# Study-APS-Task3
Antida Python School. Итоговое задание по курсу. Учебный проект "Сервис для учета личных финансов".

## Как развернуть проект

Для запуска приложения, в системе должен быть установлен интерпретатор [Python](https://www.python.org/downloads/) версии 3.8 или новее. Совместимость с более ранними версиями не гарантируется.

### 1. Виртуальное окружение *(опционально)*
Разработку рекомендуется вести в изолированном режиме из под виртуального окружения. Для его установки потребуется установить пакет [virtualenv](https://pypi.org/project/virtualenv/):

`$ pip install virtualenv`

### 2. Клонирование проекта
Чтобы клонировать проект локально - вызовите интерфейс командной строки (например, [Git Bash](https://gitforwindows.org)) в желаемой директории, выполните команду:

`$ git clone https://github.com/jasper7466/Study-APS-Task3.git`

и перейдите в директорию проекта:

`$ cd ./Study-APS-Task2`

### 3. Установка виртуального окружения *(опционально)*

`$ python -m virtualenv venv`

### 4. Активация виртуального окружения *(опционально)*

`$ . venv/Scripts/activate`

### 5. Установка пакетов из зависимостей
Зависимости зафиксированы в файле `requirements.txt`. Для их автоматической установки достаточно выполнить команду:

`$ pip install -r requirements.txt`

*Примечание: если работа ведётся не из под venv - пакеты установятся в систему*

### 6. Установка переменных окружения
Добавление в PYTHONPATH пути до корня приложения (где лежит модуль app.py):

`$ export PYTHONPATH=./src` (или `set PYTHONPATH=./src`)

Установка пути до приложения относительно PYTHONPATH в переменную окружения FLASK_APP:

`$ export FLASK_APP=app:create_app` (или `set FLASK_APP=app:create_app`)

Для запуска в режиме отладки следует устанавить переменную окружения FLASK_ENV в значение "development":

`$ export FLASK_ENV=development` (или `set FLASK_ENV=development`)

При такой настройке:
- сервер будет запущен в режиме автоматической "горячей" перезагрузки приложения при детектировании изменений в его исходных кодах
- при возникновении ошибок в браузере будет выводиться stack trace

Установку переменных окружения и некоторых других переменных параметров при каждом запуске приложения можно избежать, добавив в корневую директорию проекта файлы `.env` и `.flaskenv` следующего содержания:

*.env:*
```
DB_CONNECTION = example.db
SECRET_KEY = secret_key
UPLOAD_FOLDER = './uploads'
```

*.flaskenv:*
```
PYTHONPATH = ./src
FLASK_APP = app:create_app
FLASK_ENV = development
```

Указанные в этих файлах параметры будут автоматически подтягиваться и применяться с помощью пакета [python-dotenv](https://pypi.org/project/python-dotenv/)

### 7. Запуск приложения
Для запуска приложения в настроенном на предыдущем шаге режиме выполните команду:

`$ flask run`

### 8. Фиксирование зависимостей
После завершения доработки проекта, в случае добавления новых пакетов - следует зафиксировать зависимости, обновив файл `requirements.txt`. Это можно сделать автоматически, выполнив команду:

`$ pip freeze > requirements.txt`

Команду имеет смысл выполнять из под виртуального окружения, если оно используется. В противном случае будут подтянуты все локальные пакеты из системы.

## Примечания

- Файл БД не исключён из индекса и присутствует в репозитории для удобства продолжения тестирования/доработки. При отладке желательно скопировать его вне директории проекта, изменив соответствующим образом переменную `DB_CONNECTION ` в файле `.env`, либо добавить в `.gitignore`.
